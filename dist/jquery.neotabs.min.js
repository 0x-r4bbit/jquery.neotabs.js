/*! jQuery NeoTabs - v0.1.4 - 2012-11-05
* https://github.com/PascalPrecht/jquery.neotabs.js
* Copyright (c) 2012 Pascal Precht; Licensed  */
(function(a,b,c){function j(c,d){var j=this;a.extend(j,{$el:c,opts:a.extend({},f,d),keyCodes:h,hasDropdown:!1,hasPreActiveTab:!1,tabsList:null,dropdownTabsList:null,currentTabsCount:g}),j.tabsList=new k({clearfixClass:j.opts.clearfixClass,tabsListClass:j.opts.tabsListClass}),j.$el.wrapInner('<div class="'+j.opts.wrapperClass+'"></div>'),j.$el.find(j.opts.tabHeadElement).each(function(b){var c=a(this);!j.hasDropdown&&c.hasDataAttr("neotabs-dropdown")&&(j.dropdownTabsList=new k({clearfixClass:j.opts.dropdownTabsClearfixClass,tabsListClass:j.opts.dropdownTabsListClass}),j.hasDropdown=!0),!j.hasPreActiveTab&&c.hasDataAttr("neotabs-active")&&(c.addClass(j.opts.activeClass),j.hasPreActiveTab=!0);var d=new l({label:c.html(),id:j.generateTabId(g,b),tabsList:null,cssClass:j.opts.cssClassAvailable?(c.attr("class")||"")+" "+j.opts.tabHeadClass:j.opts.tabHeadClass});j.hasDropdown?j.dropdownTabsList.addTab(d):j.tabsList.addTab(d),c.attr({id:d.id,"class":j.opts.tabHeadClass,"tab-index":"-1"})}),j.hasDropdown&&j.tabsList.addTab(new l({label:j.opts.dropdownTabLabel,id:"",tabsList:j.dropdownTabsList,cssClass:j.opts.tabHeadClass+" "+j.opts.dropdownTabClass})),j.$el.find("."+j.opts.tabsListClass).length||j.$el[i[j.opts.tabsPosition]](j.tabsList.toHtml());var m=j.$el.find("."+j.opts.tabBodyClass),n=j.$el.find("."+j.opts.tabsListClass);m.length>0&&(m.hide(),a(m[0]).show()),n.find(" > li:first").addClass(j.opts.firstTabClass+(j.hasPreActiveTab?"":" "+j.opts.activeClass)).closest("ul").find("> li:last").addClass(j.opts.lastTabClass),j.opts.wrapInnerTabs&&n.find("> li > a").wrapInner(j.opts.wrapInnerTabs),n.find("> li a").each(function(b){a(this).on("click",function(c){c.preventDefault(),n.find("> li."+j.opts.activeClass).removeClass(j.opts.activeClass),a(this).parent().addClass(j.opts.activeClass),a(this).blur();var d=b;a(this).parent().hasClass(j.opts.dropdownTabClass)||(j.$el.find("."+j.opts.tabBodyClass+":visible").hide(),a(this).closest("."+j.opts.dropdownTabClass).length&&(d=b-1),a(this).focus().keyup(function(b){j.keyCodes[b.keyCode]&&j.activateTab(j.currentTabsCount,d+j.keyCodes[b.keyCode])&&a(this).unbind("keyup")}),j.$el.find("."+j.opts.tabBodyClass).eq(d)[j.opts.fx](j.opts.fxSpeed))}),a(this).focus(function(){a(e).keyup(function(a){j.keyCodes[a.keyCode]&&j.activateTab(j.currentTabsCount,b+j.keyCodes[a.keyCode])})}),a(this).blur(function(){a(e).unbind("keyup")})});if(j.opts.autoAnchor&&b.location.hash){var o=a("."+j.opts.tabsListClass).find(b.location.hash);o.size()&&o.click()}j.hasPreActiveTab&&a("."+j.opts.tabsListClass+" ."+j.opts.activeClass+" a").click(),g++}function k(a){this.tabs=[],this.clearfixClass=a.clearfixClass,this.tabsListClass=a.tabsListClass}function l(a){this.label=a.label,this.id=a.id,this.tabsList=a.tabsList,this.cssClass=a.cssClass}var d="neoTabs",e=b.document,f={wrapperClass:"content",activeClass:"active",tabHeadClass:"tabhead",tabBodyClass:"tabbody",firstTabClass:"first",lastTabClass:"last",clearfixClass:"group",tabsListClass:"tabs-list",tabHeadElement:"h4",tabsPosition:"top",cssClassAvailable:!0,fx:"show",fxSpeed:0,autoAnchor:!0,wrapInnerTabs:"",dropdownTabLabel:"&#x25BE;",dropdownTabClass:"dropdown",dropdownTabsListClass:"tabs-list",dropdownTabsClearfixClass:"group"},g=0,h={37:-1,38:-1,39:1,40:1},i={top:"prepend",bottom:"append"};a.fn.hasDataAttr=function(a){var b=this.attr("data-"+a);return typeof b!="undefined"&&b!==!1},a("body").data("accessibleTabsCount")!==c&&(g=a("body").data("accessibleTabsCount")),a("body").data("accessibleTabsCount",g),j.prototype.activateTab=function(b,c){var d=a("#"+this.generateTabId(b,c));return d.length?(d.click(),!0):!1},j.prototype.generateTabId=function(a,b){return"accessibletabscontent"+a+"-"+b},k.prototype.addTab=function(a){this.tabs.push(a)},k.prototype.toHtml=function(){var a=this.tabs.length,b=0,c='<ul class="'+this.clearfixClass+" "+this.tabsListClass+'">';for(;b<a;b++)c+=this.tabs[b].toHtml();return c},l.prototype.toHtml=function(){var a='<li class="'+this.cssClass+'"><a href="#'+this.id+'" id="'+this.id+'">'+this.label+"</a>";return this.tabsList&&(a+=this.tabsList.toHtml()),a+="</li>",a},a.fn[d]=function(b){return this.each(function(){a.data(this,"plugin_"+d)||a.data(this,"plugin_"+d,new j(a(this),b))})}})(jQuery,window);