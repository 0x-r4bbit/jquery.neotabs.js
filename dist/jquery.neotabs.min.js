/*! jQuery NeoTabs - v0.2.1 - 2012-11-12
* https://github.com/PascalPrecht/jquery.neotabs.js
* Copyright (c) 2012 Pascal Precht; Licensed  */
(function(a,b,c){function k(c,d){var e=this;a.extend(e,{$el:c,opts:a.extend({},f,d),hasDropdown:!1,hasPreActiveTab:!1,preActiveId:"",tabsList:null,dropdownTabsList:null,currentTabsCount:g,ids:[]}),e.tabsList=new l({clearfixClass:e.opts.clearfixClass,tabsListClass:e.opts.tabsListClass}),e.$el.wrapInner('<div class="'+e.opts.wrapperClass+'"></div>'),e.$el.find(e.opts.tabHeadElement).each(function(b){var c=a(this);!e.hasDropdown&&c.hasDataAttr("neotabs-dropdown")&&(e.dropdownTabsList=new l({clearfixClass:e.opts.dropdownTabsClearfixClass,tabsListClass:e.opts.dropdownTabsListClass}),e.hasDropdown=!0),!e.hasPreActiveTab&&c.hasDataAttr("neotabs-active")&&(c.addClass(e.opts.activeClass),e.hasPreActiveTab=!0);var d=new m({label:c.html(),id:j("accessibletabscontent",g,b),navigationId:j("accessibletabsnavigation",g,b),tabsList:null,cssClass:e.opts.cssClassAvailable?(c.attr("class")||"")+" "+e.opts.tabHeadClass:e.opts.tabHeadClass});e.hasDropdown?e.dropdownTabsList.addTab(d):e.tabsList.addTab(d),e.hasPreActiveTab&&e.preActiveId===""&&(e.preActiveId=d.id),c.parent("."+e.opts.tabBodyClass).attr("id",j("accessibletabscontentbody",g,b)),c.attr({id:d.id,"class":e.opts.tabHeadClass,"tab-index":"-1"}),e.ids.push(d.id)}),e.hasDropdown&&e.tabsList.addTab(new m({label:e.opts.dropdownTabLabel,id:j("accessibletabsdropdown",g),navigationId:"",tabsList:e.dropdownTabsList,cssClass:e.opts.tabHeadClass+" "+e.opts.dropdownTabClass})),e.$el.find("."+e.opts.tabsListClass).length||e.$el[i[e.opts.tabsPosition]](e.tabsList.toHtml());var h=e.$el.find("."+e.opts.tabBodyClass),k=e.$el.find("."+e.opts.tabsListClass);h.length>0&&(h.attr("aria-hidden",!0).hide(),a(h[0]).attr("aria-hidden",!1).show()),k.find(" > li:first").addClass(e.opts.firstTabClass+(e.hasPreActiveTab?"":" "+e.opts.activeClass)).closest("ul").find("> li:last").addClass(e.opts.lastTabClass),e.opts.wrapInnerTabs&&k.find("> li > a").wrapInner(e.opts.wrapInnerTabs),k.find("> li a").each(function(b){a(this).on("click",function(b){b.preventDefault(),a(this).unbind("keyup");var c=a(this).parent(),d=c.hasClass(e.opts.activeClass),f=c.hasClass(e.opts.dropdownTabClass),g=!!a(this).closest("."+e.opts.dropdownTabClass).length&&!f,h=c.next().hasClass(e.opts.dropdownTabClass);f?d?c.removeClass(e.opts.activeClass+" "+e.opts.dropdownTabActiveClass):(c.addClass(e.opts.activeClass),a(this).focus().on("keyup",function(b){var d=a(this).attr("id"),f=e.ids.indexOf(d),g=b.keyCode;g===37&&e.activateTab("#"+c.prev().find("a").attr("id")),g===40&&c.find("."+e.opts.dropdownTabsListClass+" li:first a").focus()})):(k.find("."+e.opts.activeClass).removeClass(e.opts.activeClass),c.addClass(e.opts.activeClass)),g?k.find("."+e.opts.dropdownTabClass).addClass(e.opts.dropdownTabActiveClass).find("> a").focus():k.find("."+e.opts.dropdownTabActiveClass).removeClass(e.opts.dropdownTabActiveClass);if(!f){e.$el.find("."+e.opts.tabBodyClass+":visible").hide();var i=a(this).attr("id").replace("accessibletabscontent","accessibletabscontentbody"),j=e.$el.find("#"+i);j.length>0&&(e.$el.find("."+e.opts.tabBodyClass).attr("aria-hidden",!0),j.attr("aria-hidden",!1)[e.opts.fx](e.opts.fxSpeed))}f||a(this).focus().on("keyup",function(b){var d=a(this).attr("id"),f=e.ids.indexOf(d);b.keyCode===38||b.keyCode===39?e.activateTab("#"+c.next().find("a").attr("id")):(b.keyCode===37||b.keyCode===40)&&e.activateTab("#"+c.prev().find("a").attr("id"))})})}),e.opts.autoAnchor&&b.location.hash&&e.activateTab(b.location.hash),e.hasPreActiveTab&&e.activateTab("#"+e.preActiveId),g++}function l(a){this.tabs=[],this.clearfixClass=a.clearfixClass,this.tabsListClass=a.tabsListClass}function m(a){this.label=a.label,this.id=a.id,this.navigationId=a.navigationId,this.tabsList=a.tabsList,this.cssClass=a.cssClass}var d="neoTabs",e=b.document,f={wrapperClass:"content",activeClass:"active",tabHeadClass:"tabhead",tabBodyClass:"tabbody",firstTabClass:"first",lastTabClass:"last",clearfixClass:"group",tabsListClass:"tabs-list",tabHeadElement:"h4",tabsPosition:"top",cssClassAvailable:!0,fx:"show",fxSpeed:0,autoAnchor:!0,wrapInnerTabs:"",dropdownTabLabel:"&#x25BE;",dropdownTabClass:"dropdown",dropdownTabActiveClass:"hidden-active",dropdownTabsListClass:"tabs-list",dropdownTabsClearfixClass:"group"},g=0,h=[32,37,38,39,40],i={top:"prepend",bottom:"append"},j=function(a,b,d){var e=a+b;return d!==c&&(e+="-"+d),e};a.fn.hasDataAttr=function(a){var b=this.attr("data-"+a);return typeof b!="undefined"&&b!==!1},a("body").data("accessibleTabsCount")!==c&&(g=a("body").data("accessibleTabsCount")),a("body").data("accessibleTabsCount",g),k.prototype=function(){return{activateTab:function(b){var c=a(b);return c.length>0?(c.click(),!0):!1},toggleDropdown:function(){var a=this.$el.find("."+this.opts.dropdownTabClass+"> a").attr("id");return this.activateTab("#"+a)},openDropdown:function(){this.toggleDropdown()},closeDropdown:function(){this.toggleDropdown()}}}(),l.prototype.addTab=function(a){this.tabs.push(a)},l.prototype.toHtml=function(){var a=this.tabs.length,b=0,c='<ul class="'+this.clearfixClass+" "+this.tabsListClass+'">';for(;b<a;b++)c+=this.tabs[b].toHtml();return c},m.prototype.toHtml=function(){var a='<li class="'+this.cssClass+'" id="'+this.navigationId+'"><a href="#'+this.id+'" id="'+this.id+'">'+this.label+"</a>";return this.tabsList&&(a+=this.tabsList.toHtml()),a+="</li>",a},a.fn[d]=function(b){return this.each(function(){a.data(this,"plugin_"+d)||a.data(this,"plugin_"+d,new k(a(this),b))})},b.NeoTabs=k})(jQuery,window);